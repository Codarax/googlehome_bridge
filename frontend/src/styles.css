:root{
	--ha-bg:#f7f9fa;
	--card:#ffffff;
	--muted:#6b7280;
	--accent:#03a87c;
}
body{background:var(--ha-bg);color:#222;font-family:Segoe UI,Arial}
.container{max-width:1400px;margin:20px auto;padding:16px;width:calc(100% - 48px)}
.header{display:flex;align-items:center;justify-content:space-between}
h1{margin:0;font-size:20px}
.controls{margin-top:12px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px;margin-top:20px}
.card{background:var(--card);border-radius:10px;padding:14px 16px;box-shadow:0 1px 0 rgba(0,0,0,0.06);display:flex;align-items:flex-start;gap:14px}
.card .meta{flex:1;min-width:0}
.icon-col{flex:0 0 56px;display:flex;align-items:center;justify-content:center}
.icon-emoji{font-size:22px}
.name{font-weight:600;white-space:normal;word-break:break-word;overflow-wrap:break-word;font-size:15px}
.entity{font-size:12px;color:var(--muted)}
.entity .entity-value{
	display:block;
	width:100%;
	max-width:100%;
	white-space:nowrap;
	overflow:hidden;
	text-overflow:ellipsis;
	word-break:normal;
	padding:6px 8px;
	border-radius:6px;
	background:#f8fafc;
	border:1px solid #eef2f7;
	font-family:monospace;
	font-size:12px;
	cursor:text;
}
.state{font-size:13px;color:var(--muted)}
.toggle{flex:0 0 56px;display:flex;align-items:center;justify-content:center}
.toggle input[type="checkbox"]{transform:scale(1.05);margin-top:2px}

/* Responsive: on very wide screens use more columns */
@media (min-width: 1600px) {
	.grid{grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:20px}
	.container{padding:20px}
}

/* layout modes */
.device-list .controls { margin-bottom: 8px }
.device-list.layout-compact .grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 10px }
.device-list.layout-compact .card { padding:10px 12px; gap:10px }
.device-list.layout-compact .name { font-size:14px }
.device-list.layout-compact .toggle { flex:0 0 44px }
/* prevent aggressive per-character wrapping in compact mode */
.device-list.layout-compact .name {
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}
.device-list.layout-compact .icon-col { flex: 0 0 40px }
.device-list.layout-compact .icon-emoji { font-size:20px }

.meta-row { display:flex;align-items:center;gap:8px }
.state-badge { background:#f3f4f6;color:#374151;border-radius:999px;padding:2px 8px;font-size:12px;border:1px solid rgba(0,0,0,0.04)}

/* switch toggle */
.switch{position:relative;display:inline-block;width:42px;height:24px}
.switch input{opacity:0;width:0;height:0}
.switch .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#e5e7eb;transition:.2s;border-radius:24px}
.switch .slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;top:3px;background:white;transition:.2s;border-radius:50%}
.switch input:checked + .slider{background:var(--accent)}
.switch input:checked + .slider:before{transform:translateX(18px)}

/* density adjustments */
.card.density-dense{padding:8px 10px}
.card.density-dense .name{font-size:13px}
.card.density-comfortable{padding:14px 16px}

.meta-extra{display:flex;align-items:center;gap:8px}

/* ensure scaling doesn't overflow grid items */
.card[style*="scale"]{transform-origin:0 0}
.toggle input[type="checkbox"]{transform:scale(1.05);margin-top:2px}
button{padding:6px 10px;border-radius:6px;background:#fff;border:1px solid #e5e7eb}

